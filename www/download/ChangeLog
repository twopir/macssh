2001/09/xx - version 2.1fc2:

- Updated with lsh 1.3.4. which adds X11 forwarding and
  aes256 encryption support.
- Updated with GUSI 2.1.9.
- Fixed ignored Apple menu in moveable modal dialogs.
- Fixed a few ANSI colors.
- Fixed a crash in 'clear saved lines' when memory is full.
- Fixed clipped trailing spaces when copying several wrapped lines.


2001/07/29 - version 2.1fc1:

- Fixed hilite lines when auto-scrolling a text selection.
- Fixed custom port number not always set when added after an URL.
- Added a delay to auto-scroll, proportional to mouse distance.
- Rename 'Command' label into 'lsh arguments' for ssh2 protocol.
- Fixed infinite loop in linemode [rbraun].
- limit the maximum saved lines to 32767 in the Teminal settings.
- use MacTCP for SSH2 connections if there's no OpenTransport or
  OT < 1.1.1.
- Do not auto-open Default when launched by a saved-set/URL.
- Leave text selected when inserting/deleting lines. 
- Fixed ISO-2022-JP translation broken in b9.
- Added forward kerberos v5 tickets patches [rbraun].


2001/06/20 - version 2.1b9:

- Added Show/Hide Log option in windows menu.
- Added Print Screen option in file menu.
- Added "<ESC>&&Burl url|pathname<CR>" sequence processing.
  this opens the url or launches the application 'pathname',
  where pathname has the syntax '/hd/[folder/...]applname'.
- Fixed a crash when disconnecting a telnet session if the server
  attempts to negociate kerberos without the plugin installed.
- Fixed a crash when opening a saved set containing several
  sessions and ssh connection failed.
- Fixed close-box ignored for the Log window.
- Fixed wrong cached password sent before the real one after
  authentication failure.
- Fixed alignment problems when printing selection with trailing
  spaces.


2001/05/23 - version 2.1b8:

- Added support for JIS keyboards.
- Added different F1..F10 macros for ANSI and Linux terminal type.
- Fixed keypad symbols sending macros when not in application mode.
- Fixed default PF3 macro (keypad '/').
- Fixed bad incoming translation switched to ascii when receiving
  'CSI(A' or 'CSI(B' sequences.


2001/05/17 - version 2.1b7:

- Added 'VT220 7-bit Controls' option in the terminal settings dialog.
  this fixes problems introduced in 2.1b6 that defaults to
  vt220 7-bit mode for japanese characters support.
- More cursor fixes.
- Double-click now selects wrapped text too.
- Fixed random 'out of memory' error at application startup when
  opening an URL or a Saved Set.
- Fixed locked keyboard after pasting text whose translation failed.
- Fixed copied lines sometimes mistakenly considered wrapped.
- Fixed spaces added at the end of copied lines when 'always clip
  trailing spaces' is not checked.
- Fixed option-click not moving cursor in vi with multiple terminals.
- Fixed balloon help strings in Preferences and Terminal settings
  dialogs.
- Fixed ASLFont+ incorrectly rejected as proportional.
- Fixed incorrect background color when erasing in VT220 emulation.
- Fixed crash after copying a Tek-4105 picture.


2001/05/10 - version 2.1b6:

- added multi-byte support.
- added ISO-2022-JP, EUC-JP and Shift-JIS translations (PPC only).
- Added keychain passwords access from macros using \k{label}
  syntax.
- Added a 1/2 second delay before replacing the hostname when
  typing an alias in open connection dialog.
- do not insert CR when copying wrapped lines to the clipboard.
- fixed disabled macros cmd-1..9.
- fixed disappearing cursor in non-blinking mode.


2001/04/30 - version 2.1b5:

- Fixed bugs in cursor placement (ncurses with ANSI term type).
- Fixed default function keys/editing keys macros.
- Fixed blinking attribute support.
- Blinking cursor now behaves as it should.
- Added more VT220 sequences replies.
- Added 'linux' terminal type.
- Added faint attribute support.
- Added double-height lines support.
- Added 16 colors support.
- Added 'ANSI/PC' 10pt font.


2001/04/23 - version 2.1b4:

- More modeless dialogs fixes (deadlocks when needing password).
- Fixed crash in passphrase/password request dialog if there's no
  Keychain support.
- Fixed damaged background color and related random crashes when
  there's no appearance manager, or version < 1.1 (MacOS < 9).
- Fix for other undocumented ANSI sequences (ncurses with
  'ansi' answerback message).
- Added ANSI terminal type in Terminal settings.
- ANSI Color for bold can now be disabled.
- Added 10 pt semi-graphic characters.
- Changed default terminal settings.


2001/04/17 - version 2.1b3:

- Fixed unfiltered toolbox events in modeless dialogs (introduced in b2).
- Fixed infinite lookup if username is empty (introduced in b2).


2001/04/15 - version 2.1b2:

- Updated with GUSI 2.1.6.
- Added fix from lsh pre-1.2.1 (truncated data after a normal disconnection)
- Speed improvements when using several terminals or port forwarding.
- Sessions are now still running while a modeless dialog is opened.
- Set the window's theme color to background to avoid white flash.
- Fixed damaged terminal colors after changing ANSI colors from
  the session menu.
- Fixed display glitches on terminal borders with colored background.


2001/04/05 - version 2.1b1:

- Updated with lsh 1.2 (STABLE!) and GUSI 2.1.6b3.
- MacOS Keychain can now be used for passwords and passphrases in the
  PPC version. Check the main preferences dialog.
- Kerberos plugin should now work with the PPC version too.
- Fix attempt for the non ANSI sequence "\E[39;49m" (pine etc...)
- Added 'read' AppleScript command to get incoming data from front session.
- Added an optional 'suspended' parameter in 'Wait for text' AppleScript
  command.
- Don't flip backspace key behaviour if option key is pressed, and
  option as emacs meta-key is selected.
- Fixed erased line at bottom of terminal with underlined text.
- Reload GUSI DNS resolver after 'kOTProviderIsClosed' event. This should
  fix 'address could not be resolved' errors after a PPP disconnection.
- Fixed cleared login/password from favorite when an url of the kind
  "ssh://favorite" was given to MacSSH without login/password.


2001/03/22 - version 2.1a12:

- Keypair generation was broken. Fixed.


2001/03/21 - version 2.1a11:

- Updated with lsh 1.1.8.
- Added 'ANSI/PC' 9pt font found in the free BitchX MacOS client.
- Added user configurable label in generate keys dialog.
- Added protocol type and command field in connect AppleEvent Handler.
- ssh2 locker was incorrectly displayed with some themes. moved to
  bottom of window.
- Notify user when in background and a password/passphrase is required.
- Modified "Func" keypad menu.
- "Save Set with Macros" now saves all macros, not only the 10 first.
- Option key as emacs meta-key should now work, as well as control-meta.
- "Failed to open xxx" was still displayed in terminal. Fixed.
- Bold fonts are now correctly displayed with the same width as plain.
- Don't switch keymap when option as emacs meta-key is selected.
- Fixed password not saved in the cache when coming from prefs.
- Fixed video text not scrolling at left margin.
- Fixed erased video line at top margin when scrolling down.
- Fixed window updating problems while scrolling hidden parts.
- Disable "Remove" button in Favorites/Terminals settings when
  <default> is selected.
- silently eat consecutive bells after the 5th.


2001/03/08 - version 2.1a10:

- Resolve alias for "MacSSH" Preferences folder.
- When in "CVS port forwarding" mode and command terminates successfully,
  keep the listening socket opened and restart the SSH2 session.
  verified whith MacCVS 3.1.11 and MacCVS Pro 2.5b2 on sourceforge.
- Initialize GUSI DNS resolver in the main thread, and reopen
  InternetServices upon interface switch. This fixes a bug that I
  bypassed giving the IP address to lsh instead of the host name,
  and solves problems with ssh2 servers using several different IPs.
  Caveat: all the previously known hosts seems unknown, so you'll have
  to trash your previous known_hosts file, and accept&save again the host
  keys.
- Save passwords in the cache in addition to passphrases.
- yield CPU less often to speed SSH processing in forwarding mode.
- changed the error message "Failed to open Identity" into a verbose
  message.
- As many people don't read the FAQ, switched the window-resize behaviour,
  i.e. resize-box will resize the full terminal, while alt-resize-box will
  resize the window only.


2001/03/04 - version 2.1a9:

- Updated with lsh 1.1.7. Fixes the port forwarding errors.
- Fake rcmd handshake locally in "CVS port forwarding" mode.
- Fixed inverted minimum/suggested application's memory size values.
- Fixed a few potentially crashing unlocked-but-dereferenced handles.


2001/02/19 - version 2.1a8:

- Changed program name back to MacSSH due to the community pressure (;
- accept URLs of type 'ssh://[user[:password]@]favorite' in the GetURL
  AppleEvent when 'allow typing of aliases' is checked.


2001/02/17 - version 2.1a7:

- Changed program name into MacSecSH (trademark issue, thanks to SSH©¨ª
  Communications). You'll have to manually rename 'MacSSH' folder
  into 'MacSecSH', same thing for the 'MacSSH Prefs' file inside
  this folder, and 'MacSSH Macros', if you've created one.
- Updated with lsh 1.1.6 and GUSI 2.1.5.
- passphrases for encrypted private keys can now be cached with a timeout.
- added key's fingerprint display in new host key alert.
- added a few help balloons in SSH2 settings panel.
- modified F1-F10 default macros.
- Scripting was broken. fixed wrong 'aete' resource.
- Check if Threads Manager is installed.
- Check that OpenTransport is at least 1.1.1 (a user reported a crash
  with OT 1.1).


2001/01/24 - version 2.1a6:

- Updated with lsh 1.1.5.
- "Export public key" was looking for an Identity file beside MacSSH instead
  of MacSSH Preferences folder.
- Create Preferences file with MacSSH creator (remained BetterTelnet's one).
- Customized macros were not loaded at application startup.
- Fixed a crash when Cmd-. was hit.
- Fixed a missing socket shutdown when receiving EOF on a forwarded TCP port.


2001/01/08 - version 2.1a5:

- moved all the identity/hosts/preferences location to a "MacSSH" folder in
  "MacOS Preferences" folder. note that you'll need to move manually all
  your previous files in this location.
- added some macros for shift PF1, shift Home etc... Customized macros
  needs to be rebuilt.
- keep asking the (wrong) passphrase until cancel is hit.
- added command field from security tab into saved sets.
- terminal name length was not properly terminated if shorter than 5 chars.
- update host settings while typing alias names in Open Connection dialog.


2000/12/29 - version 2.1a4:

- Added "CVS local port forwarding" (simple local TCP redirection to the
  shell connection) in SSH2 Method popup.
- trap failed assertions from lsh to avoid application exit.
- do not interpret font names when creating font menus.
- "Command keys" option was inactive at application startup if unchecked.
- accept Cmd-backquote as backquote if the option "Command keys" is
  unchecked and the option "Remap backquote to ESC" is checked.


2000/12/15 - version 2.1a3:

- SSH2 was not working if the file '/etc/services' in MacOS Preferences
  folder has no 'ssh' service entry. MacSSH no longer uses this file.
- fixed a bug disabling ssh2 after 20 connections (too many files
  opened).
- redirected the verbose/debug/traces to the console window (opened
  with Cmd-')


2000/12/11 - version 2.1a2:

- updated with lsh 1.1.3 and GUSI 2.1.3.
- private key can now be encrypted using a passphrase.
- added feedback while generating key pair (up to 17 minutes on a Mac IIx...).
- don't use SSH2 checkbox when typing an alias name in open connection dialog.
- ask user password only when SSH2 requests it.
- fixed a bug sometimes leaving a window open though disconnected.


2000/11/24 - version 2.1a1:

- updated with lsh 1.1.2.
- change terminal window size message implemented.
- workaround for a wrong reply from SSH-2.0.13 using public key authentication.
- use telnet protocol when unchecking SSH2 in open connection dialog.
- accept URLs of type 'ssh://[user[:password]@]host.com' in the GetURL AppleEvent.
- guests were always disabled for port forwarding.
- fixed scroll bar tracking glitch using scrollbar arrows lower right theme option.
- fixed some bugs in FTP server code (many still remaining...).
- added a few mem full error checking.


2000/10/08 - version 2.1d10:

- compatibility issue with SSH-1.99-2.0.13 has been solved.
- weak link against OpenTransport 2.0 for system 7.5.x PPC users. Both MacSSH 68k and PPC
  now runs on OpenTransport 1.1.1 (and higher).
- fixed a crash in GUSI 68k when writing files under system 7.5.x (wrong a5 register).
- workaround for an lsh bug that randomly corrupted incoming data.
- sync threads to disable password dialog reentrancy from different sessions.
- saved sets now work with SSH2 settings.
- fixed wrong string returned by strsignal().
- fixed RSA keys generation (random) bug that disabled writing (invalid sexp).
- Changed the (still wrong) default hardcoded terminal answerback message from 'VT220'
  to 'vt220' in terminal settings dialog radio buttons.
- Replaced incorrect password editfield filter in security tab.
- added login and password to applescript connect parameters.
- display a locker in window titlebar for SSH2 connections.
- don't ask for login/password for the first connection attempt if both are set
  in the security tab.


2000/10/02 - version 2.1d9:

- Added preliminary support for RSA keys. key exchange with host not working yet
  (at least for me).
- Added more 'random' input in randomness.c. This should make encryption stronger.
- Added "export public key" feature to convert lsh style public key to SSH2 format.
- Show/hide forwarded ports depending on SSH2 method selected.
- Added small popups for easier local/remote port selection in port forwarding.
- Replaced old BetterTelnet creator for MacSSH saved files.
- Changed the (wrong) default terminal answerback message from 'VT220' to 'vt220'.
- Fixed an lsh bug in algorithms negociation using 'all in order' lists.
- Fixed an off by 1 column width bug, and wrong xpixels/ypixels size in the terminal info
  sent to the server.
- Fixed a crash when generating keys in 68k version. bad PLstrrchr() in my CWPro6 final
  candidate. I have one 68k user (:
- ... and a few other cosmetic/ergonomics changes.
- Did NOT add SSH1 support, and won't. Nice try, "Anonymous", but you're a bit
  too demanding. There's already a free and excellent SSH1 client for the Mac.


2000/09/28 - version 2.1d8:

- keys generation was still broken because of a missing leading space (sic...) the error displayed
by MacSSH was: "lsh-writekey: Invalid transport-style expression". late night change (-%
- added a better user interface for TCP port forwarding in the SSH2 tab. you'll need to remove
the string in the "Command" field if you configured it for port forwarding.


2000/09/27 - version 2.1d7:

- Filled the default termios struct with the content of a valid tty tcgetattr request. this should
  solve the disappearing CRs when connected to lshd - and maybe the messages 'ignoring data on
  channel x which is closing' ?.
- set the correct lsh version number in handshake (remained 1.0 though I'm using 1.0.5).
- Telnet windows now accept sizes up to 255x200 - did I lose a star on VersionTracker for this
  one ? (-;
- send the right terminal name from the Favorite settings (was always using "vt220"). note you
  need to change "VT220" into "vt220" in the terminal settings if you used previous versions
  of MacSSH - or trash "MacSSH Prefs" file.
- fixed wrong default Authentication & Compression values. same remark for the prefs.
- select the login field in the SSH2 password dialog if there's no login in the Favorite prefs.
- fixed a bug in dsa keys generation that made them unusable. This bug appeared in MacSSH
  2.1d4 (2.1d3 was the first version released) and is also present in lsh 1.0.4 and 1.0.5.
- fixed a signed short bug that disabled ports over 32767 for SSH2.


2000/09/25 - version 2.1d6:

- updated with lsh 1.0.5. (Serpent and Rijndael Encryption support).
  WARNING: this version of LSH is no longer compatible with SSH-1.99-2.0.13 !!!
  if you need to connect to such servers, keep your version 2.1d5...
- added port forwarding support. the user interface is not Macish at all, but it works !
  create a favorite with ssh2 support with the usual settings for your host, and add
        -Llocalport:remotehost:remoteport
  to the Command field of the security tab. open the connection to the server, and you should
  now have a listener at localport on your Mac tunnelled to the remote host:remote port.
- bug fix: negociate the whole encryption list with the server when 'all in order' is selected.
- removed IDEA from Encryption list, anyway, selection was ineffective because I never added
  the code since IDEA is patent encumbered...
- added a dialog for NIST level selection when creating DSA keys. (RSA not yet supported...)


2000/09/18 - version 2.1d5:

- fixed a bug when renegociating new keys that disconnected and could corrupt random memory.
  oops...
- simpler host keys management: use the dialogs already created in BetterTelnet to ask user
  agreement for new keys.
- removed a few annoying zlib traces.


2000/09/13 - version 2.1d4:

- updated with lsh 1.0.4 + Niels bugs fixes.
- set the correct title for Terminals and FTP Users dialogs.
- TCP port 22 was always used for SSH2 whatever the settings are.

